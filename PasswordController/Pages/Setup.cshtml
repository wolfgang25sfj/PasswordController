@page
@model SetupModel
@{
    ViewData["Title"] = "Setup Account";
}

<h2>Account Setup</h2>

@if (!string.IsNullOrEmpty(Model.ErrorMessage))
{
    <div class="alert alert-danger">@Model.ErrorMessage</div>
}

@if (!string.IsNullOrEmpty(Model.SuccessMessage))
{
    <div class="alert alert-success">@Model.SuccessMessage</div>
}

<form method="post">
    <div class="form-group">
        <label for="FirstName">First Name (Control Question):</label>
        <input type="text" id="FirstName" name="FirstName" class="form-control" value="@Model.FirstName" required />
        @if (!string.IsNullOrEmpty(Model.NameMessage))
        {
            <small class="text-danger">@Model.NameMessage</small>
        }
    </div>

    <div class="form-group">
        <label for="Password">Password:</label>
        <input type="password" id="Password" name="Password" class="form-control" required />
        @if (!string.IsNullOrEmpty(Model.PasswordMessage))
        {
            <small class="text-danger">@Model.PasswordMessage</small>
        }
    </div>

    <div class="form-group">
        <label for="Pin">PIN (4-16 digits):</label>
        <input type="password" id="Pin" name="Pin" class="form-control" pattern="\d{4,16}" title="4-16 digits only" required />
        @if (!string.IsNullOrEmpty(Model.PinMessage))
        {
            <small class="text-danger">@Model.PinMessage</small>
        }
    </div>

    <div class="form-group mt-3">
        <button type="submit" class="btn btn-success">Save Account</button>
        <a asp-page="/Index" class="btn btn-secondary">Discard & Back</a>
    </div>
</form>